---
title: 今年お仕事でやったこと
date: 2019-12-30T06:45:01.000Z
categories:
  - おしごと
id: "26006613488547183"
draft: false
---
<p>今年も一年お疲れさまでした。</p>
<p> </p>
<h3>1〜2月</h3>
<p>SRE としてインフラの Monitoring とそれに伴うトラブルシューティングをしたりしてました。</p>
<p>Zabbix や AppDynamics とかで監視をしていて、何か起きたら Slack にアラートが飛んでくるという仕組みや、Toil をなくすために親の仇のように自動化をしていくみたいな精神は後の（3月以降の）チームでのやっていきかたに大きく影響しています。</p>
<p> </p>
<p>また、トラブルシューティングの記録や、工数の管理をするための Web アプリを Vue.js と Spring boot で作っていました。</p>
<p>Vue.js 側のビルドと Spring boot 側のビルドをまとめてやりたくなって、Maven と maven-frontend-plugin とかを組み合わせて全部 Maven からビルドできるようにしたりしてました。</p>
<p> </p>
<p>SRE は昨年の11月に配属されたばかりでしたが、オンプレ向けのデプロイツール開発チームがメンバーの退職が相次ぐなどあり崩壊寸前だったため3月からそちらに異動することになりました。</p>
<p>3月から異動するのはよかったのですが、それを通告されたのが1週間前だったのは結構びっくりしました。</p>
<p>1週間で引き継ぎ用の API ドキュメントやアーキテクチャ説明ドキュメントを作成して、なんとかさほど後を濁さずに去れたと思っています。今でも上述の Web アプリは使われているみたいなのできっと大丈夫でしょう。</p>
<p> </p>
<h3>3〜12月</h3>
<p>というわけでオンプレ向けのデプロイツール開発チームに異動しました。</p>
<p>メイン業務はツールの開発とツールに関する問い合わせ対応とトラブルシューティングなのですが、</p>
<p>とにかく開発環境がめちゃくちゃでした。</p>
<p>入ったときは、</p>
<ul>
<li>Jenkins は一応ある。が、オンプレサーバーに構築されているしバックアップも取られていない。ジョブに使うスクリプトはサーバーのローカルに生で配置されている。あと権限管理が存在しない。</li>
<li>GitLab も一応ある。が、これもまたオンプレサーバーに構築されているしバックアップも（以下略）</li>
<li>なぜか Maven のリモートリポジトリもオンプレでオレオレ Nexus が立っている。しかも歴史的事情により、この筐体が海外にある。</li>
<li>種々のオペレーションが手作業で行われているし、ドキュメントも存在しないか陳腐化している</li>
</ul>
<p>といったような、いいんだか悪いんだかわからない環境でした。ていうかきっと悪い。サーバー吹っ飛んだら終了だけど大丈夫か？？？</p>
<p> </p>
<p>なので、メイン業務に並行して、これらの改善をやっていました。</p>
<p> </p>
<p>結果、今では</p>
<ul>
<li>Jenkins は毎日バックアップを取るようになりました。また、スクリプトはほとんど GitLab へ移行しました。Role-based plugin を使って、権限管理もおこなうようになりました。</li>
<li>謎のオンプレ GitLab は廃止しました。会社で用意している GitLab があるので、こっちに全てのリポジトリを移行しました。余計にサーバー管理コストを払わなくて済むようになりましたね。</li>
<li>謎のオンプレ Nexus も廃止しました。会社で（以下略）</li>
<li>手作業で行われている種々のオペレーションもなるべく Jenkins ジョブ化しました。</li>
<li>Jenkins ジョブの実行結果や、GitLab のイベントは全て Slack に通知するようにしました。</li>
</ul>
<p> </p>
<p>入った頃から比べたらはるかに安心できる環境です。よかったよかった。</p>
<p>メイン業務もちゃんとやってました。開発したチケットの数はチーム内でも1番多かったですし、対応した問い合わせの数も多分1位か2位くらい。（20200114: 1位でした）</p>
<p>あと、海外の開発メンバーとのやりとりとかもやってました。仕様の確認やコードレビューなど。基本的に Slack ベースなので、speaking は伸びなかったですが、reading と writing は伸びたような気がします。来年は TOEIC L&amp;R を受けてみようかしら。</p>
<p>そういえば Google Apps Script 講座とかも社内でやっていました。これはテキストを作ったのでどこかで公開したい。</p>
<p> </p>
<p>本当に今年はいろいろやった気がします。</p>
<p>来年もこれくらい幅広くやっていきたい。</p>
